<%-include("./admin-partials/header.ejs", { title: "Orders" })%>

<div class="container">
  <div class="row">
    <h1>Orders</h1>
  </div>
  <div class="table-responsive" style="max-height: 75vh; max-width: 75vw">
    <table class="table table-bordered">
      <thead class="sticky-top">
        <tr>
            <th>ID</th>
            <th>Date</th>
            <th>Item ID</th>
            <th>Quantity</th>
            <th>Sum</th>
            <th>Status</th>
            <th></th>
        </tr>
      </thead>
      <tbody>
        <% orders.forEach(order => { %>
        <tr>
            <td><%= order.order_id %></td>
            <td><%= order.order_date.toDateString() %></td>
            <td>
                <%= order.item_id %>
            </td>
            <td><%= order.order_quantity %></td>
            <td><%= order.item_price.toFixed(2) %></td>
            <td>
                <span class="badge bg-<%= order.order_status == 0 ? "warning" : "success" %>">
                    <%= order.order_status == 0 ? "Pending" : "Completed" %>
                </span>
            </td>
            <td>
                <a href="#" class="btn btn-outline-secondary btn-sm">Change Status</a>
                <a href="#" class="btn btn-outline-danger btn-sm">Delete</a>
            </td>
        <% }) %>
      </tbody>
    </table>
  </div>
</div>

<%-include("./admin-partials/footer.ejs")%>
