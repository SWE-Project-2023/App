<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Homepage</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../css/homepage.css">

	<script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
	<link href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css" rel="stylesheet">
</head>
<body>
	<%- include('partials/header') %>
	



		<div class="containerr">
			<div class="slider-container">
				<div class="slider">
					
					<div class="slide"><img src="/images/591dff7e-205e-40fe-b24f-e6533282254e.avif" alt="Image 2"></div>
					<div class="slide"><img src="/images/f925e78e-43c4-44a2-91b3-b26e9d5f89ca.avif" ></div>
					<div class="slide"><img src="/images/image 1.png" alt="Image 4"></div>
				</div>
				<div class="slider-btns"></div>
			</div>
			
		
		
		</div>







	<div class="categories">
		<a href="#">
			<div class="cat" id="cat1">
				<img src="/images/capsule.png" alt="capsule">
				<p>Medications</p>
			</div>
		</a>

		<a href="#">
			<div class="cat" id="cat2">
				<img src="/images/baby.png" alt="baby">
				<p>Mom and Baby</p>
			</div>
		</a>

		<a href="#">
			<div class="cat" id="cat3">
				<img src="/images/hand.png" alt="hand">
				<p>Skin Care</p>
			</div>
		</a>

		<a href="#">
			<div class="cat" id="cat4">
				<img src="/images/hair.png" alt="blow dryer">
				<p>Hair Care</p>
			</div>
		</a>

		<a href="#">
			<div class="cat" id="cat5">
				<img src="/images/beauty.png" alt="lip stick">
				<p>Beauty</p>
			</div>
		</a>

		<a href="#">
			<div class="cat" id="cat6">
				<img src="images/supplies.png" alt="first aid kit">
				<p>Medical Supplies</p>
			</div>
		</a>
	</div>

	<div class="featured-products-container">
		<h1>Our Feautured Products</h1>

		<div class="featured-products">
			<a href="">
				<img src="/images/featured1.png" alt="product">
				<p>Super Capsule</p>
			</a>

			<a href="">
				<img src="/images/featured2.png" alt="product">
				<p>Super Syringe</p>
			</a>

			<a href="">
				<img src="/images/featured3.png" alt="product">
				<p>Super Cannula</p>
			</a>

			<a href="">
				<img src="/images/featured4.png" alt="product">
				<p>Super Drugs</p>
			</a>
		</div>
	</div>

	<%- include('partials/footer') %>

	 <!-- --------------------- Scripts ---------------------  -->

	<script>


		const slider = document.querySelector('.slider');
const slides = document.querySelectorAll('.slide');
var currentIndex = 0;

// Ensure the correct height is set on page load
window.addEventListener('load', () => {
    adjustContainerHeight();
});
 // Add a window resize event listener to update image height
 window.addEventListener('resize', () => {
    adjustContainerHeight();
});

// Define nextSlide function
function nextSlide() {
    currentIndex = (currentIndex + 1) % slides.length;
    updateSlider();
}

// Create buttons for each slide
const btnContainer = document.querySelector('.slider-btns');
slides.forEach((slide, index) => {
    const button = document.createElement('span');
    button.className = 'slider-btn';
    button.onclick = () => goToSlide(index);
    btnContainer.appendChild(button);
});

function goToSlide(index) {
    currentIndex = index;
    updateSlider();
}

function updateSlider() {
    slider.style.transform = `translateX(-${currentIndex * 100}%)`;
    // Highlight the active button
    const buttons = document.querySelectorAll('.slider-btn');
    buttons.forEach((button, index) => {
        button.classList.toggle('active', index === currentIndex);
    });
}

var intervalId;

function startAutoPlay() {
    intervalId = setInterval(nextSlide, 3000);
}

function stopAutoPlay() {
    clearInterval(intervalId);
}

startAutoPlay(); // Start auto-play by default

// Stop auto-play on mouseover
slider.addEventListener('mouseenter', stopAutoPlay);

// Resume auto-play on mouseleave
slider.addEventListener('mouseleave', startAutoPlay);

// Adjust container height based on the current slide's image
function adjustContainerHeight() {
    const currentSlide = slides[currentIndex];
    const currentImage = currentSlide.querySelector('img');
    if (currentImage) {
        const imgHeight = currentImage.height;
        document.querySelector('.slider-container').style.height = imgHeight + 'px';
    }
}

// Initial adjustment and on slide change
adjustContainerHeight();
slider.addEventListener('transitionend', adjustContainerHeight);
	</script>

</body>
</html>